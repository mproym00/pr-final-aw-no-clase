{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\megas\\\\Desktop\\\\Uni\\\\Quinto\\\\2\\xBA Cuatri\\\\Aplicaciones Web\\\\Practica Final\\\\frontend\\\\src\\\\pages\\\\comanda.js\",\n    _s = $RefreshSig$();\n\nimport * as React from 'react';\nimport { useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport BoyIcon from '@mui/icons-material/Boy';\nimport AppBar from '@mui/material/AppBar';\nimport Autocomplete from '@mui/material/Autocomplete';\nimport Box from '@mui/material/Box';\nimport Button from '@mui/material/Button';\nimport Container from '@mui/material/Container';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport Grid from '@mui/material/Grid';\nimport Link from '@mui/material/Link';\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\nimport TextField from '@mui/material/TextField';\nimport Toolbar from '@mui/material/Toolbar';\nimport Typography from '@mui/material/Typography';\nimport Component from '../components/comensal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Copyright() {\n  return /*#__PURE__*/_jsxDEV(Typography, {\n    variant: \"body2\",\n    color: \"text.secondary\",\n    align: \"center\",\n    children: ['Copyright Â© ', /*#__PURE__*/_jsxDEV(Link, {\n      color: \"inherit\",\n      href: \"https://mui.com/\",\n      children: \"www.grupoInnova6d.com\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }, this), ' ', new Date().getFullYear(), '.']\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 9\n  }, this);\n}\n\n_c = Copyright;\nconst theme = createTheme();\nexport default function Comanda() {\n  _s();\n\n  const navigate = useNavigate();\n  const camarero = sessionStorage.getItem('usuario');\n  const mesa = sessionStorage.getItem(\"mesa\");\n  const personas = [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\"];\n  const [numeroPersonas, setNumeroPersonas] = useState();\n  const [cardComensales, setCardComensales] = useState([]);\n  const [primeros, setPrimero] = useState([]);\n  const [segundos, setSegundo] = useState([]);\n  const [postres, setPostres] = useState([]);\n  const [bebidas, setBebida] = useState([]);\n\n  async function subeComanda() {\n    //tipo de mesa\n    var mesaOcupada;\n    await axios.put(`http://localhost:3053/${camarero}/mesas/${mesa}`, {}).then(response => {\n      if (response.status === 200) {\n        mesaOcupada = response.data[0];\n      } else {\n        alert(\"Mesa no encontrada\");\n      }\n    });\n    await axios.put(`http://localhost:3053/${camarero}/comandas/nueva`, {\n      primeros: primeros,\n      segundos: segundos,\n      postres: postres,\n      bebidas: bebidas,\n      mesa: mesaOcupada\n    }).then(response => {\n      sessionStorage.removeItem(\"mesa\");\n      navigate('/' + camarero + '/camarero/');\n    });\n  }\n\n  function comensales(numero) {\n    var gente = [];\n\n    for (var i = 0; i < numero; i++) {\n      gente.push(i + 1);\n      primeros.push(null);\n    }\n\n    setCardComensales(gente);\n  }\n\n  function primero(index, plato) {\n    var primerosPlatos = primeros;\n    primerosPlatos[index] = plato;\n    setPrimero(primerosPlatos);\n  }\n\n  function segundo(index, plato) {\n    var segundosPlatos = segundos;\n    segundosPlatos[index] = plato;\n    setSegundo(segundosPlatos);\n  }\n\n  function postre(index, plato) {\n    var postresPlatos = postres;\n    postresPlatos[index] = plato;\n    setPostres(postresPlatos);\n  }\n\n  function bebida(index, plato) {\n    var bebidasElegidas = bebidas;\n    bebidasElegidas[index] = plato;\n    setBebida(bebidasElegidas);\n  }\n\n  return /*#__PURE__*/_jsxDEV(ThemeProvider, {\n    theme: theme,\n    children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(AppBar, {\n      position: \"relative\",\n      children: /*#__PURE__*/_jsxDEV(Toolbar, {\n        children: [/*#__PURE__*/_jsxDEV(BoyIcon, {\n          sx: {\n            mr: 2\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          color: \"inherit\",\n          noWrap: true,\n          children: [\"Camarero que le atiende: \", camarero]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          bgcolor: 'background.paper',\n          pt: 8,\n          pb: 6\n        },\n        children: /*#__PURE__*/_jsxDEV(Container, {\n          maxWidth: \"md\",\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            component: \"h1\",\n            variant: \"h2\",\n            align: \"center\",\n            color: \"text.primary\",\n            gutterBottom: true,\n            children: [\"COMANDA MESA \", mesa]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            component: \"form\"\n            /*onSubmit={handleSubmit}*/\n            ,\n            noValidate: true,\n            sx: {\n              mt: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(Autocomplete, {\n              options: personas,\n              autoHighlight: true,\n              style: {\n                width: 300\n              },\n              value: numeroPersonas,\n              inputValue: numeroPersonas,\n              onChange: (event, newInputValue) => {\n                setNumeroPersonas(newInputValue);\n                comensales(newInputValue);\n              },\n              renderInput: params => /*#__PURE__*/_jsxDEV(TextField, { ...params,\n                label: \"Comensales\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 56\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 27\n            }, this), /*#__PURE__*/_jsxDEV(Container, {\n              sx: {\n                py: 8,\n                bgcolor: 'cyan'\n              },\n              maxWidth: \"md\",\n              children: /*#__PURE__*/_jsxDEV(Grid, {\n                container: true,\n                spacing: 4,\n                children: cardComensales.map((card, index) => /*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  xs: 12,\n                  sm: 6,\n                  md: 6,\n                  children: /*#__PURE__*/_jsxDEV(Component, {\n                    primero: primero,\n                    segundo: segundo,\n                    postre: postre,\n                    bebida: bebida,\n                    posicion: index\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 157,\n                    columnNumber: 45\n                  }, this)\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 155,\n                  columnNumber: 41\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 31\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 27\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              type: \"button\",\n              fullWidth: true,\n              variant: \"contained\",\n              sx: {\n                mt: 3,\n                mb: 2\n              },\n              onClick: () => {\n                subeComanda();\n              },\n              children: \"Terminar Comanda\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 27\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 23\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 19\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        bgcolor: 'background.paper',\n        p: 6\n      },\n      component: \"footer\",\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        align: \"center\",\n        gutterBottom: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"subtitle1\",\n        align: \"center\",\n        color: \"text.secondary\",\n        component: \"p\",\n        children: \"Todos los derechos reservados\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(Copyright, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 116,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Comanda, \"Um23iIIG3NkYUOb9151Ev6B6evA=\", false, function () {\n  return [useNavigate];\n});\n\n_c2 = Comanda;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Copyright\");\n$RefreshReg$(_c2, \"Comanda\");","map":{"version":3,"sources":["C:/Users/megas/Desktop/Uni/Quinto/2Âº Cuatri/Aplicaciones Web/Practica Final/frontend/src/pages/comanda.js"],"names":["React","useState","axios","useNavigate","BoyIcon","AppBar","Autocomplete","Box","Button","Container","CssBaseline","Grid","Link","createTheme","ThemeProvider","TextField","Toolbar","Typography","Component","Copyright","Date","getFullYear","theme","Comanda","navigate","camarero","sessionStorage","getItem","mesa","personas","numeroPersonas","setNumeroPersonas","cardComensales","setCardComensales","primeros","setPrimero","segundos","setSegundo","postres","setPostres","bebidas","setBebida","subeComanda","mesaOcupada","put","then","response","status","data","alert","removeItem","comensales","numero","gente","i","push","primero","index","plato","primerosPlatos","segundo","segundosPlatos","postre","postresPlatos","bebida","bebidasElegidas","mr","bgcolor","pt","pb","mt","width","event","newInputValue","params","py","map","card","mb","p"],"mappings":"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","sourcesContent":["import * as React from 'react';\r\nimport { useState } from 'react';\r\n\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nimport BoyIcon from '@mui/icons-material/Boy';\r\nimport AppBar from '@mui/material/AppBar';\r\nimport Autocomplete from '@mui/material/Autocomplete';\r\nimport Box from '@mui/material/Box';\r\nimport Button from '@mui/material/Button';\r\nimport Container from '@mui/material/Container';\r\nimport CssBaseline from '@mui/material/CssBaseline';\r\nimport Grid from '@mui/material/Grid';\r\nimport Link from '@mui/material/Link';\r\nimport {\r\n  createTheme,\r\n  ThemeProvider,\r\n} from '@mui/material/styles';\r\nimport TextField from '@mui/material/TextField';\r\nimport Toolbar from '@mui/material/Toolbar';\r\nimport Typography from '@mui/material/Typography';\r\n\r\nimport Component from '../components/comensal';\r\n\r\nfunction Copyright() {\r\n    return (\r\n        <Typography variant=\"body2\" color=\"text.secondary\" align=\"center\">\r\n            {'Copyright Â© '}\r\n            <Link color=\"inherit\" href=\"https://mui.com/\">\r\n                www.grupoInnova6d.com\r\n            </Link>{' '}\r\n            {new Date().getFullYear()}\r\n            {'.'}\r\n        </Typography>\r\n    );\r\n}\r\n\r\nconst theme = createTheme();\r\n\r\nexport default function Comanda() {\r\n\r\n    const navigate = useNavigate();\r\n    const camarero = sessionStorage.getItem('usuario');\r\n\r\n    const mesa = sessionStorage.getItem(\"mesa\");\r\n\r\n    const personas = [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\"];\r\n\r\n    const [numeroPersonas, setNumeroPersonas]=useState();\r\n    const [cardComensales, setCardComensales]=useState([]);\r\n    const [primeros, setPrimero]=useState([]);\r\n    const [segundos, setSegundo]=useState([]);\r\n    const [postres, setPostres]=useState([]);\r\n    const [bebidas, setBebida]=useState([]);\r\n\r\n    async function subeComanda(){\r\n        //tipo de mesa\r\n        var mesaOcupada;\r\n        \r\n        await axios.put(`http://localhost:3053/${camarero}/mesas/${mesa}`, {\r\n        }).then(response => {\r\n            if(response.status===200){\r\n                mesaOcupada = response.data[0];\r\n            }else{\r\n                alert(\"Mesa no encontrada\");\r\n            }\r\n        })\r\n\r\n        await axios.put(`http://localhost:3053/${camarero}/comandas/nueva`, {\r\n            primeros: primeros,\r\n            segundos: segundos,\r\n            postres: postres,\r\n            bebidas: bebidas,\r\n            mesa: mesaOcupada\r\n        }).then((response) => {\r\n            sessionStorage.removeItem(\"mesa\");\r\n            navigate('/'+camarero+'/camarero/');\r\n        });\r\n    }   \r\n\r\n    function comensales(numero){\r\n        var gente  = [];\r\n        for(var i=0; i<numero; i++){\r\n          gente.push(i+1);\r\n          primeros.push(null);\r\n        }\r\n        setCardComensales(gente);\r\n    }\r\n\r\n    function primero(index, plato){\r\n        var primerosPlatos = primeros;\r\n        primerosPlatos[index] = plato;\r\n        setPrimero(primerosPlatos);\r\n    }\r\n\r\n    function segundo(index, plato){\r\n        var segundosPlatos = segundos;\r\n        segundosPlatos[index] = plato;\r\n        setSegundo(segundosPlatos);\r\n    }\r\n\r\n    function postre(index, plato){\r\n        var postresPlatos = postres;\r\n        postresPlatos[index] = plato;\r\n        setPostres(postresPlatos);\r\n    }\r\n\r\n    function bebida(index, plato){\r\n        var bebidasElegidas = bebidas;\r\n        bebidasElegidas[index] = plato;\r\n        setBebida(bebidasElegidas);\r\n    }\r\n\r\n    return (\r\n        <ThemeProvider theme={theme}>\r\n            <CssBaseline />\r\n            <AppBar position=\"relative\">\r\n                <Toolbar>\r\n                    <BoyIcon sx={{ mr: 2 }} />\r\n                    <Typography variant=\"h6\" color=\"inherit\" noWrap>\r\n                        Camarero que le atiende: {camarero}\r\n                    </Typography>\r\n                </Toolbar>\r\n            </AppBar>\r\n          <main>\r\n              <Box sx={{bgcolor: 'background.paper', pt: 8, pb: 6}}>\r\n                  <Container maxWidth=\"md\">\r\n                      <Typography\r\n                          component=\"h1\"\r\n                          variant=\"h2\"\r\n                          align=\"center\"\r\n                          color=\"text.primary\"\r\n                          gutterBottom\r\n                      >\r\n                          COMANDA MESA {mesa}\r\n                      </Typography>\r\n                      <Box component=\"form\" /*onSubmit={handleSubmit}*/ noValidate sx={{ mt: 1 }}>\r\n                          <Autocomplete\r\n                              options={personas}\r\n                              autoHighlight\r\n                              style={{ width: 300 }}\r\n                              value={numeroPersonas}\r\n                              inputValue={numeroPersonas}\r\n                              onChange={(event, newInputValue) => {\r\n                                  setNumeroPersonas(newInputValue);\r\n                                  comensales(newInputValue);\r\n                              }}\r\n                              renderInput={(params) => <TextField {...params} label=\"Comensales\"/>}\r\n                          />\r\n                    \r\n                          <Container sx={{ py: 8, bgcolor: 'cyan' }} maxWidth=\"md\">\r\n                              <Grid container spacing={4}>\r\n                                    {cardComensales.map((card, index) => (\r\n                                        <Grid item key={index} xs={12} sm={6} md={6}>\r\n                                                \r\n                                            <Component\r\n                                                primero={primero}\r\n                                                segundo={segundo}\r\n                                                postre={postre}\r\n                                                bebida={bebida}\r\n                                                posicion={index}\r\n                                            />\r\n                                        </Grid>\r\n                                ))}\r\n                              </Grid>\r\n                          </Container>\r\n\r\n                \r\n                          <Button\r\n                              type=\"button\"\r\n                              fullWidth\r\n                              variant=\"contained\"\r\n                              sx={{ mt: 3, mb: 2 }}\r\n                              onClick={() => {\r\n                                subeComanda();\r\n                            }} \r\n                          >\r\n                              Terminar Comanda\r\n                          </Button>\r\n                      </Box>\r\n                  </Container>\r\n              </Box>\r\n            \r\n          </main>\r\n          <Box sx={{ bgcolor: 'background.paper', p: 6 }} component=\"footer\">\r\n              <Typography variant=\"h6\" align=\"center\" gutterBottom>\r\n              </Typography>\r\n              <Typography\r\n                  variant=\"subtitle1\"\r\n                  align=\"center\"\r\n                  color=\"text.secondary\"\r\n                  component=\"p\"\r\n              >\r\n                  Todos los derechos reservados\r\n              </Typography>\r\n              <Copyright />\r\n          </Box>\r\n\r\n        </ThemeProvider>\r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}